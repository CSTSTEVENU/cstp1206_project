//- Created by Jessica Jing and Steven Uhm
extends layout
block style 
  //- link(rel='stylesheet' href='stylesheets/style.css')
  link(rel='stylesheet' href='stylesheets/whiteboard.css')
  script(src='javascript/fabric.min.js')
  script(src='javascript/fabric_history.js')

block content
  #bd-wrapper(ng-controller='CanvasControls')
    .main_content
      div.wb_commands.bg-dark
        ul.left-sidebar-item.nav.nav-pills.flex-column.align-items-center.align-items-sm-start
          li.other-folder.nav-item
            a#drawing-mode.btn(href="#")
              img(src="https://img.icons8.com/ios-filled/50/ffffff/pen.png")
              span.ms-1.d-none.d-sm-inline Drawing
          li.other-folder.nav-item
            a#save.btn(href="#")
              img(src="https://img.icons8.com/ios/50/ffffff/save--v1.png")
              span.ms-1.d-none.d-sm-inline Save
          li.other-folder.nav-item
            a#shape_button.btn(href="#")
              img(src="https://img.icons8.com/external-wanicon-solid-wanicon/64/ffffff/external-shape-kindergarten-wanicon-solid-wanicon.png")
              span.ms-1.d-none.d-sm-inline Shape
          li.other-folder.nav-item  
            a#clear-canvas.btn(href="#")
              img(src="https://img.icons8.com/wired/64/ffffff/filled-trash.png")
              span.ms-1.d-none.d-sm-inline Delete
          li.other-folder.nav-item
            a#undo.btn(href="#")
              img(src="https://img.icons8.com/dotty/80/ffffff/undo.png") 
              span.ms-1.d-none.d-sm-inline Previous
          li.other-folder.nav-item
            a#copy.btn(href="#")
              img(src="https://img.icons8.com/ios/50/ffffff/new-by-copy--v1.png")
              span.ms-1.d-none.d-sm-inline Copy
          li.other-folder.nav-item
            a#paste.btn(href="#")
              img(src="https://img.icons8.com/ios/50/ffffff/paste.png")
              span.ms-1.d-none.d-sm-inline Paste
          //- li.other-folder.nav-item
          //-   label.upload.btn.d-none.d-sm-inline(for="myImage") 
          //-     img(src="https://img.icons8.com/external-flatart-icons-outline-flatarticons/64/ffffff/external-photo-editorial-design-flatart-icons-outline-flatarticons.png")
          //-     input(type="file" style="display:none" id="myImage" accept="image/png, image/gif, image/jpeg")
          //-     | Upload
        div
          label.upload.btn(for="myImage") 
            img(src="https://img.icons8.com/external-flatart-icons-outline-flatarticons/64/ffffff/external-photo-editorial-design-flatart-icons-outline-flatarticons.png")
            input(type="file" style="display:none" id="myImage" accept="image/png, image/gif, image/jpeg")
            | Upload
        a#showText.btn(href="#")
          img(src="https://img.icons8.com/ios/50/ffffff/text.png") 
          span.ms-1.d-none.d-sm-inline Text
        br
      div
        div#textToAddDiv(style='display:none')
              input#textToAdd(width=10)
              button#addText Add
              br
              span Font-family:
              select#font-family
                option(value='Times New Roman') Times New Roman
                option(value='Arial') Arial
                option(value='Verdana') Verdana
                option(value='Impact') Impact
                option(value='Tahoma') Tahoma
        #drawing-mode-options
          label(for='drawing-mode-selector') Mode:
          select#drawing-mode-selector
            option Pencil
            option Circle
            option Spray
            option Pattern
            option hline
            option vline
            option square
            option diamond
          br
          label(for='drawing-line-width') Line width:
          span.info 30
          input#drawing-line-width(type='range' value='30' min='0' max='150')
          br
          label(for='drawing-color') Line color:
          input#drawing-color(type='color' value='#005E7A')
          br
          label(for='drawing-shadow-color') Shadow color:
          input#drawing-shadow-color(type='color' value='#005E7A')
          br
          label(for='drawing-shadow-width') Shadow width:
          span.info 0
          input#drawing-shadow-width(type='range' value='0' min='0' max='50')
          br
          label(for='drawing-shadow-offset') Shadow offset:
          span.info 0
          input#drawing-shadow-offset(type='range' value='0' min='0' max='50')
          br
        div#shape_list(style='display:none')

        
      
      div
      canvas#c(width='1200' height='800' style='border:1px solid #aaa')
  script.
    (function(){
    var mainScriptEl = document.getElementById('main');
    if (!mainScriptEl) return;
    var preEl = document.createElement('pre');
    var codeEl = document.createElement('code');
    codeEl.innerHTML = mainScriptEl.innerHTML;
    codeEl.className = 'language-javascript';
    preEl.appendChild(codeEl);
    document.getElementById('bd-wrapper').appendChild(preEl);
    })();
  script.
    (function() {
    window.addEventListener('load', function() {
    var canvas = this.__canvas || this.canvas,
    canvases = this.__canvases || this.canvases;
    canvas && canvas.calcOffset && canvas.calcOffset();
    if (canvases && canvases.length) {
    for (var i = 0, len = canvases.length; i < len; i++) {
    canvases[i].calcOffset();
    }
    }
    });
    })();
  script.
    loadShapes();
  script(src='javascript/whiteboard.js')